<!DOCTYPE html>
<html>
<head>
	<title>Teste Meias</title>
</head>
<body>

	<h3>Quantidade de meias : </h3>
	<input class="number" id="qtdMeias" required="required"  />

	<h3>Pares de meias : </h3>
	<input type="text" id="parMeias" required="required" />

	<button onclick="calcular()" >Enviar</button>

	<h3>Resultado: </h3>
	<div id="resultado" > 0 </div>

</body>
<script type="text/javascript">
	//Pegar valores digitados
	var qtdMeias = document.getElementById('qtdMeias');
	var parMeias = document.getElementById('parMeias');	
	var resultado = document.getElementById('resultado');	
	
	//Funcao calcular
	function calcular(){
		//Split da qtd de meias
		var qtdPar = parMeias.value.trim().split(" ");
		//Compara se o valor digitado esta dentro da condicao solicitada
		if(qtdMeias.value <= 1 || qtdMeias.value >= 100 ){
			alert("Quantidade de meias maoires/menores que o permitido");
			qtdMeias.value = 	 "";
			parMeias.value = "";
			resultado.innerHTML = "";
			
		}else{
			//verifica se é TRUE para chamar a funcao que calcula quantos pares
			if(isTotalMeiasIgualPares(qtdPar.length, parseInt(qtdMeias.value))){
				var valor = somaPares(qtdPar);
				resultado.innerHTML = valor;
			}else{
				alert("Os pares tem que ser igual o total informado de total de meias");
				parMeias.value = " ";
				resultado.innerHTML = 0;
			}
		}

	};

	function isTotalMeiasIgualPares(meias, nrMeias){
		//verifica se a qtd de meias é igual ao numeros digitados do valor separado pelo (split)
		return meias === nrMeias
	}	

	function somaPares(meias) {
			//Ordena o array
			meias.sort();
			var valor = 0;

		  	for (var i = 0; i < meias.length; ) {
		    		if (meias[i] == meias[i+1]){
		    			//se os primeiros 2 numeros forem iguais tira os 2 primeiros
		    			meias.shift();
		    			meias.shift();
		    			//e soma
		    			valor++;
		    		}else{
		    			//se nao retira só o primeiro
		    			meias.shift();
		    		}
		 	} 	
		return valor;
	}
</script>

</html>

